import{h as C,r as u,b as y,o as l,c as d,e as t,j as p,v as m,t as c,d as f,F as w}from"./index.40f56477.js";import{u as z}from"./task.e4966d99.js";const g={key:0,class:"updateCard"},x={class:"updateInfo"},N={key:1,class:"card"},Z={class:"cardInfo"},h={class:"titol"},S={class:"descripcio"},J=t("br",null,null,-1),V={__name:"MainTasks",props:{task:Object},setup(I){const e=I,a=z();C("https://agbazoldiqsiomzhegnm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFnYmF6b2xkaXFzaW9temhlZ25tIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3NzAyNSwiZXhwIjoxOTgxNjUzMDI1fQ.QY07ZDUNhnzQ6ALbpzSbzcqe2QjDMZfGk6qaJuCq07c");const n=u(!1),r=u(!0),k=()=>{n.value=!n.value},o=u({title:e.task.title,description:e.task.description}),_=async()=>{await a.updateTask(o.value.title,o.value.description,e.task.id),n.value=!n.value,a.setTask()},v=async()=>{await a.doneTask(e.task.id,!e.task.isCreated),a.setTask(),console.log(e.task.id),r.value=!r.value},T=async()=>{await a.deleteTask(e.task.id),a.setTask()};return(M,s)=>{const b=y("router-view");return l(),d(w,null,[n.value?(l(),d("div",g,[t("div",x,[p(t("textarea",{"onUpdate:modelValue":s[0]||(s[0]=i=>o.value.title=i),name:"",id:"",cols:"30",rows:"10"},c(e.task.title),513),[[m,o.value.title]]),p(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=i=>o.value.description=i),name:"",id:"",cols:"30",rows:"10"},c(e.task.description),513),[[m,o.value.description]]),t("div",null,[t("button",{onClick:_},"Guarda els canvis"),t("button",{onClick:k},"Cancel\xB7la")])])])):(l(),d("div",N,[t("div",Z,[t("div",h,c(e.task.title),1),t("div",S,c(e.task.description),1),t("div",null,[t("button",{onClick:k},"Editar"),r.value?(l(),d("button",{key:0,onClick:s[2]||(s[2]=i=>v())},"Tasca feta")):(l(),d("button",{key:1,onClick:s[3]||(s[3]=i=>v())},"Torna a crear")),t("button",{onClick:s[4]||(s[4]=i=>T())},"Eliminar")])])])),J,f(b)],64)}}};export{V as default};
