import{i as b,r,o as n,c as l,d as s,k as v,v as _,t as d,n as C}from"./file_index.4595dafe.js";import{u as f}from"./file_task.40701b4a.js";const y={class:"mainTask"},z={key:0,class:"tasksGrid"},h={class:"updateCard"},w={class:"updateInfo"},x=s("label",{for:"titol"},"T\xEDtol de la tasca",-1),Z=s("label",{for:"descripcio"},"Descripci\xF3",-1),g={key:1,class:"tasksGrid"},N={class:"cardInfo"},S={class:"titol"},D={class:"descripcio"},J={class:"botons"},U={__name:"MainTasks",props:{task:Object},setup(m){const t=m,e=f();b("https://agbazoldiqsiomzhegnm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFnYmF6b2xkaXFzaW9temhlZ25tIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3NzAyNSwiZXhwIjoxOTgxNjUzMDI1fQ.QY07ZDUNhnzQ6ALbpzSbzcqe2QjDMZfGk6qaJuCq07c");const o=r(!1),c=r(!0),k=r({title:t.task.title,description:t.task.description}),p=()=>{o.value=!o.value},I=async()=>{await e.updateTask(k.value.title,k.value.description,t.task.id),o.value=!o.value,e.setTask()},u=async()=>{await e.doneTask(t.task.id,!t.task.isCreated),console.log(t.task.id),c.value=!c.value,e.setTask()},T=async()=>{await e.deleteTask(t.task.id),e.setTask()};return(M,a)=>(n(),l("section",y,[o.value?(n(),l("div",z,[s("div",h,[s("div",w,[x,v(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=i=>t.task.title=i),name:"titol",id:"titol",cols:"30",rows:"10"},d(t.task.title),513),[[_,t.task.title]]),Z,v(s("textarea",{"onUpdate:modelValue":a[1]||(a[1]=i=>t.task.description=i),name:"descripcio",id:"descripcio",cols:"30",rows:"10"},d(t.task.description),513),[[_,t.task.description]]),s("div",{class:"botons"},[s("button",{onClick:I},"Guarda els canvis"),s("button",{onClick:p},"Cancel\xB7la")])])])])):(n(),l("div",g,[s("div",{class:C([t.task.isCreated?"cardDone":"card"])},[s("div",N,[s("div",null,[s("div",S,d(t.task.title),1),s("div",D,d(t.task.description),1)]),s("div",J,[s("button",{onClick:p},"Editar"),c.value?(n(),l("button",{key:0,onClick:a[2]||(a[2]=i=>u())},"Tasca feta")):(n(),l("button",{key:1,onClick:a[3]||(a[3]=i=>u())},"Torna a crear")),s("button",{onClick:a[4]||(a[4]=i=>T())},"Eliminar")])])],2)]))]))}};export{U as default};
